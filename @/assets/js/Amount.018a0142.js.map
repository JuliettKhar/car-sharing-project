{"version":3,"sources":["webpack:///./src/components/order/OrderAside.vue?6b34","webpack:///src/components/order/OrderAside.vue","webpack:///./src/components/order/OrderAside.vue?77b3","webpack:///./src/components/order/OrderAside.vue","webpack:///./src/components/order/Amount.vue?8eb2","webpack:///./src/components/order/common/AmountPopup.vue?f0fb","webpack:///src/components/order/common/AmountPopup.vue","webpack:///./src/components/order/common/AmountPopup.vue?00d1","webpack:///./src/components/order/common/AmountPopup.vue","webpack:///src/components/order/Amount.vue","webpack:///./src/components/order/Amount.vue?2077","webpack:///./src/components/order/Amount.vue","webpack:///./src/components/order/common/AmountListOptions.vue?5745","webpack:///src/components/order/common/AmountListOptions.vue","webpack:///./src/components/order/common/AmountListOptions.vue?f9bb","webpack:///./src/components/order/common/AmountListOptions.vue","webpack:///./src/components/order/composables/useOrder.js","webpack:///./src/components/order/Amount.vue?3e37","webpack:///./src/components/order/common/AmountPopup.vue?747a","webpack:///./src/components/order/OrderAside.vue?05c9","webpack:///./src/components/order/common/AmountListOptions.vue?35d7"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$translate","_l","item","key","getDaysCount","from","to","_e","getHoursCount","price","loading","staticStyle","class","isFinishOrder","attrs","isDisabled","on","getNextStep","getLocaleKey","$route","name","staticRenderFns","component","orderOptions","isLoading","orderItems","finalPrice","confirmOrder","popupIsActive","$event","finishOrder","isActive","acceptClick","cancelClick","items","model","number","tank","available","image","path","e","target","src","configItems","ref","orderStatusId","cityId","pointId","carId","color","dateFrom","dateTo","rateId","isFullTank","isNeedChildChair","isRightWheel","updateConfigFields","fields","fieldsKey","hasOwnProperty","value","useOrder"],"mappings":"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","file":"@/assets/js/Amount.018a0142.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('aside',{staticClass:\"order-form__aside\"},[_c('p',{staticClass:\"aside__order\"},[_vm._v(_vm._s(_vm.$translate(\"orderForm.aside.order\")))]),_vm._l((_vm.orderItems),function(item,key){return [(item)?_c('div',{key:key,staticClass:\"aside__item\"},[_c('span',[_vm._v(_vm._s(_vm.$translate((\"orderForm.aside.\" + key))))]),_c('span'),(key === 'rent')?_c('span',[(_vm.getDaysCount(item.from, item.to))?[_vm._v(\" \"+_vm._s(_vm.getDaysCount(item.from, item.to))+\" д \")]:_vm._e(),(_vm.getHoursCount(item.from, item.to))?[_vm._v(\" \"+_vm._s(_vm.getHoursCount(item.from, item.to))+\" ч \")]:_vm._e()],2):_c('span',[_vm._v(_vm._s(item))])]):_vm._e()]}),(_vm.price && !_vm.loading)?_c('div',{staticClass:\"aside__amount\"},[_c('span',[_vm._v(_vm._s(_vm.$translate(\"orderForm.aside.price\")))]),_c('span',[_vm._v(_vm._s(_vm.price)+\" ₽\")])]):(_vm.loading)?_c('i',{staticClass:\"el-icon-loading\",staticStyle:{\"margin\":\"10px auto\"}}):_vm._e(),_c('el-button',{class:[_vm.isFinishOrder ? 'aside__amount-finish-btn' : ''],attrs:{\"type\":\"success\",\"disabled\":_vm.isDisabled},on:{\"click\":_vm.getNextStep}},[_vm._v(\" \"+_vm._s(_vm.$translate((\"orderForm.aside.\" + (_vm.getLocaleKey(_vm.$route.name)))))+\" \")])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <aside class=\"order-form__aside\">\n    <p class=\"aside__order\">{{ $translate(\"orderForm.aside.order\") }}</p>\n    <template v-for=\"(item, key) of orderItems\">\n      <div v-if=\"item\" :key=\"key\" class=\"aside__item\">\n        <span>{{ $translate(`orderForm.aside.${key}`) }}</span>\n        <span></span>\n        <span v-if=\"key === 'rent'\">\n          <template v-if=\"getDaysCount(item.from, item.to)\">\n            {{ getDaysCount(item.from, item.to) }} д\n          </template>\n          <template v-if=\"getHoursCount(item.from, item.to)\">\n            {{ getHoursCount(item.from, item.to) }} ч\n          </template>\n        </span>\n        <span v-else>{{ item }}</span>\n      </div>\n    </template>\n    <div v-if=\"price && !loading\" class=\"aside__amount\">\n      <span>{{ $translate(\"orderForm.aside.price\") }}</span>\n      <span>{{ price }} ₽</span>\n    </div>\n    <i\n      v-else-if=\"loading\"\n      class=\"el-icon-loading\"\n      style=\"margin: 10px auto\"\n    ></i>\n    <el-button\n      type=\"success\"\n      :class=\"[isFinishOrder ? 'aside__amount-finish-btn' : '']\"\n      :disabled=\"isDisabled\"\n      @click=\"getNextStep\"\n    >\n      {{ $translate(`orderForm.aside.${getLocaleKey($route.name)}`) }}\n    </el-button>\n  </aside>\n</template>\n\n<script>\n  import { computed } from \"@vue/composition-api\";\n\n  export default {\n    name: \"OrderAside\",\n    props: {\n      orderItems: {\n        type: Object,\n        default: () => ({}),\n      },\n      isDisabled: {\n        type: Boolean,\n        default: true,\n      },\n      price: {\n        type: String | Number,\n        default: null,\n      },\n      loading: {\n        type: Boolean,\n        default: false,\n      },\n    },\n    setup(props, { emit, root }) {\n      const isFinishOrder = computed(() =>\n        root.$route.path.includes(\"confirm-order\"),\n      );\n      const keys = {\n        location: \"chooseModel\",\n        model: \"extra\",\n        extra: \"amountOptions\",\n        amount: \"buy\",\n        confirm: \"cancel\",\n      };\n      const getLocaleKey = key => keys[key.toLowerCase()];\n\n      function getNextStep() {\n        !isFinishOrder.value ? emit(\"next\") : emit(\"cancel\");\n      }\n\n      return {\n        getNextStep,\n        isFinishOrder,\n        getLocaleKey,\n      };\n    },\n    methods: {\n      getDaysCount(from, to) {\n        const difference = new Date(to) - new Date(from);\n        return difference ? Math.floor(+difference / 1000 / 60 / 60 / 24) : 0;\n      },\n      getHoursCount(from, to) {\n        return new Date(to).getHours() - new Date(from).getHours();\n      },\n    },\n  };\n</script>\n\n<style scoped lang=\"scss\">\n  .el-button--success {\n    border-radius: 8px !important;\n  }\n  .order-form {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n\n    &__aside {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-end;\n      padding: 32px 0 0 32px;\n      width: 30%;\n      max-width: 30%;\n      border-left: 1px solid $gray-light;\n\n      @include sm {\n        padding: 32px 0 32px 0;\n        width: 100%;\n        max-width: 100%;\n        border-left: none;\n        align-items: flex-start;\n      }\n    }\n  }\n\n  .aside {\n    &__order {\n      display: inline-block;\n      margin: 0 0 26px 0;\n      font-weight: 500;\n      font-size: 18px;\n      color: $black;\n    }\n\n    &__item {\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      margin-bottom: 20px;\n      width: 100%;\n\n      @include sm {\n        flex-wrap: wrap;\n        flex-direction: column;\n      }\n\n      & span {\n        &:first-child {\n          display: flex;\n          align-items: flex-end;\n          margin-right: 6px;\n          font-size: 14px;\n          color: $black;\n          text-align: left;\n        }\n        &:last-child {\n          font-size: 14px;\n          color: $gray;\n          text-align: right;\n          max-width: 120px;\n\n          @include sm {\n            text-align: left;\n          }\n        }\n        &:nth-child(2) {\n          display: inline-block;\n          border-bottom: 2px dotted $gray-light;\n          width: 74px;\n\n          @include sm {\n            display: none;\n          }\n        }\n      }\n    }\n\n    &__amount {\n      width: 100%;\n      text-align: left;\n      margin-bottom: 32px;\n\n      & span:first-child {\n        margin-right: 4px;\n      }\n\n      &-finish-btn {\n        background: linear-gradient(90deg, $brown 0%, $pink 100%);\n        border-radius: 8px !important;\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderAside.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderAside.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderAside.vue?vue&type=template&id=71fbfa41&scoped=true&\"\nimport script from \"./OrderAside.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderAside.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderAside.vue?vue&type=style&index=0&id=71fbfa41&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"71fbfa41\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"amount\"},[_c('amount-list-options',{attrs:{\"order-options\":_vm.orderOptions,\"loading\":_vm.isLoading}}),_c('order-aside',{attrs:{\"order-items\":_vm.orderItems,\"is-disabled\":false,\"loading\":_vm.isLoading,\"price\":_vm.finalPrice},on:{\"next\":_vm.confirmOrder}}),_c('amount-popup',{attrs:{\"is-active\":_vm.popupIsActive},on:{\"update:isActive\":function($event){_vm.popupIsActive=$event},\"update:is-active\":function($event){_vm.popupIsActive=$event},\"accept\":_vm.finishOrder}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:['amountPopup', _vm.isActive ? 'amountPopup-is-active' : '']},[_c('div',{staticClass:\"amountPopup__wrapper\"},[_c('p',[_vm._v(_vm._s(_vm.$translate(\"orderForm.content.amount.popup.confirm\")))]),_c('el-button',{staticClass:\"accept-btn\",on:{\"click\":_vm.acceptClick}},[_vm._v(\" \"+_vm._s(_vm.$translate(\"orderForm.content.amount.popup.accept\"))+\" \")]),_c('el-button',{staticClass:\"finish-btn\",on:{\"click\":_vm.cancelClick}},[_vm._v(\" \"+_vm._s(_vm.$translate(\"orderForm.content.amount.popup.cancel\"))+\" \")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :class=\"['amountPopup', isActive ? 'amountPopup-is-active' : '']\">\n    <div class=\"amountPopup__wrapper\">\n      <p>{{ $translate(\"orderForm.content.amount.popup.confirm\") }}</p>\n      <el-button class=\"accept-btn\" @click=\"acceptClick\">\n        {{ $translate(\"orderForm.content.amount.popup.accept\") }}\n      </el-button>\n      <el-button class=\"finish-btn\" @click=\"cancelClick\">\n        {{ $translate(\"orderForm.content.amount.popup.cancel\") }}\n      </el-button>\n    </div>\n  </div>\n</template>\n<script>\n  export default {\n    name: \"AmountPopup\",\n    props: {\n      isActive: {\n        type: Boolean,\n        default: false,\n      },\n    },\n    methods: {\n      cancelClick() {\n        this.$emit(\"update:isActive\", false);\n      },\n      acceptClick() {\n        this.$emit(\"accept\", true);\n      },\n    },\n  };\n</script>\n\n<style scoped lang=\"scss\">\n  .amountPopup {\n    display: none;\n\n    &-is-active {\n      position: absolute;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      width: 100%;\n      height: 100%;\n      top: 0;\n      left: 0;\n      background: rgba(255, 255, 255, 0.9);\n      z-index: 99;\n    }\n\n    &__wrapper {\n      display: flex;\n      align-items: center;\n      flex-wrap: wrap;\n      justify-content: center;\n      width: 390px;\n      max-width: 390px;\n\n      p {\n        width: 100%;\n        font-size: 24px;\n        color: $black;\n      }\n\n      ::v-deep button.accept-btn {\n        max-width: 177px;\n        font-weight: 500;\n        font-size: 18px;\n        line-height: 21px;\n        text-align: center;\n        color: $white;\n        background: linear-gradient(90deg, #0ec261 2.61%, #039f67 112.6%);\n        background-blend-mode: darken;\n        border-radius: 8px !important;\n        padding: 10px 15px;\n        margin-bottom: 0;\n\n        @include sm {\n          margin-bottom: 20px;\n        }\n      }\n\n      ::v-deep button.finish-btn {\n        font-size: 18px;\n        border-radius: 8px !important;\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AmountPopup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AmountPopup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AmountPopup.vue?vue&type=template&id=7084b1de&scoped=true&\"\nimport script from \"./AmountPopup.vue?vue&type=script&lang=js&\"\nexport * from \"./AmountPopup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AmountPopup.vue?vue&type=style&index=0&id=7084b1de&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7084b1de\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"amount\">\n    <amount-list-options :order-options=\"orderOptions\" :loading=\"isLoading\" />\n    <order-aside\n      :order-items=\"orderItems\"\n      :is-disabled=\"false\"\n      :loading=\"isLoading\"\n      :price=\"finalPrice\"\n      @next=\"confirmOrder\"\n    />\n    <amount-popup :is-active.sync=\"popupIsActive\" @accept=\"finishOrder\" />\n  </div>\n</template>\n\n<script>\n  import OrderAside from \"@/components/order/OrderAside\";\n  import AmountListOptions from \"@/components/order/common/AmountListOptions\";\n  import { onMounted, reactive, ref } from \"@vue/composition-api\";\n  import { useRouter } from \"@/router\";\n  import { getOrderById, updateOrder } from \"@/api\";\n  import AmountPopup from \"@/components/order/common/AmountPopup\";\n  import { Notification } from \"element-ui\";\n  import { useOrder } from \"@/components/order/composables/useOrder\";\n  const { configItems, updateConfigFields } = useOrder();\n\n  export default {\n    name: \"Amount\",\n    components: {\n      OrderAside,\n      AmountListOptions,\n      AmountPopup,\n    },\n    setup(props, { root }) {\n      const orderItems = reactive({\n        city: \"\",\n        model: \"\",\n        color: \"\",\n        rent: {},\n        tariff: \"\",\n        tank: \"\",\n      });\n      const orderOptions = ref({\n        model: \"\",\n        number: \"\",\n        tank: \"\",\n        available: \"\",\n        image: {},\n      });\n\n      const { router } = useRouter();\n      const orderId = root.$route.query.id;\n      const popupIsActive = ref(false);\n      const isLoading = ref(true);\n      const finalPrice = ref(0);\n\n      function finishOrder() {\n        updateOrder(orderId, {\n          ...configItems.value,\n          orderStatusId: {\n            name: \"confirmed\",\n            id: \"5e26a1f0099b810b946c5d8b\",\n          },\n        });\n        router.push({ name: \"Confirm\", query: { id: orderId } });\n      }\n\n      async function getOrderFromPreviousStep() {\n        // TODO: отрефакторить\n        try {\n          const { data } = await getOrderById(orderId);\n          updateConfigFields(data.data);\n\n          orderItems.city = `${configItems.value.cityId.name}, ${configItems.value.pointId.address}`;\n          orderItems.model = configItems.value.carId.name;\n          orderItems.color = configItems.value.color;\n          orderItems.rent =\n            configItems.value.dateTo - configItems.value.dateFrom;\n          orderItems.tank = configItems.value.isFullTank ? \"Да\" : \"\";\n          orderItems.child = configItems.value.isNeedChildChair ? \"Да\" : \"\";\n          orderItems.rightDrive = configItems.value.isRightWheel ? \"Да\" : \"\";\n          orderItems.rent = {\n            to: configItems.value.dateTo,\n            from: configItems.value.dateFrom,\n          };\n          finalPrice.value = configItems.value.price;\n          orderOptions.value.number = configItems.value.carId.number;\n          orderOptions.value.tank = configItems.value.isFullTank ? \"100%\" : \"\";\n          orderOptions.value.model = configItems.value.carId.name;\n          orderOptions.value.image = {\n            ...configItems.value.carId.thumbnail,\n            name: configItems.value.carId.name,\n          };\n          orderOptions.value.available = `${new Date(\n            configItems.value.dateFrom,\n          ).toLocaleDateString()} ${new Date(\n            configItems.value.dateFrom,\n          ).getHours()}:${new Date(configItems.value.dateFrom).getMinutes()}`;\n        } catch (e) {\n          Notification.error({ message: e });\n        }\n      }\n\n      onMounted(() =>\n        getOrderFromPreviousStep().then(() => (isLoading.value = false)),\n      );\n\n      return {\n        orderItems,\n        orderOptions,\n        finishOrder,\n        popupIsActive,\n        isLoading,\n        finalPrice,\n      };\n    },\n    methods: {\n      confirmOrder() {\n        this.popupIsActive = true;\n      },\n    },\n  };\n</script>\n\n<style scoped lang=\"scss\">\n  .amount {\n    display: flex;\n    justify-content: space-between;\n    flex-wrap: nowrap;\n    height: 100%;\n\n    @include sm {\n      flex-wrap: wrap;\n    }\n\n    &__wrapper {\n      justify-content: space-between;\n      max-width: 60%;\n      width: 60%;\n      display: flex;\n      padding-top: 32px;\n\n      @include sm {\n        width: 100%;\n        max-width: 100%;\n        flex-wrap: wrap;\n        padding-top: 20px;\n      }\n    }\n\n    &__info {\n      & p {\n        text-align: left;\n        margin: 0 0 8px 0;\n\n        &:first-child {\n          font-size: 18px;\n          color: $black;\n        }\n\n        &:nth-child(2) {\n          font-size: 14px;\n          color: $black;\n          border: 1px solid $gray;\n          border-radius: 3px;\n          padding: 4px;\n          display: flex;\n          max-width: 94px;\n          justify-content: center;\n        }\n\n        &:nth-child(3),\n        &:nth-child(4) {\n          font-weight: bold;\n          font-size: 14px;\n          color: $black;\n\n          & span {\n            display: inline-block;\n            font-weight: 300;\n\n            @include md-and-down {\n              display: block;\n              line-height: 20px;\n            }\n          }\n        }\n      }\n\n      & img {\n        max-width: 100%;\n\n        @include md-and-down {\n          max-width: 90%;\n        }\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Amount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Amount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Amount.vue?vue&type=template&id=76742114&scoped=true&\"\nimport script from \"./Amount.vue?vue&type=script&lang=js&\"\nexport * from \"./Amount.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Amount.vue?vue&type=style&index=0&id=76742114&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"76742114\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"amount-options__wrapper\"},[(_vm.title)?_c('p',{staticClass:\"amount-options__title\"},[_vm._v(\" \"+_vm._s(_vm.$translate(\"orderForm.content.orderConfirm\"))+\" \")]):_vm._e(),(!_vm.loading)?[_c('div',{staticClass:\"amount-options__info\"},[_c('p',[_vm._v(_vm._s(_vm.items.model))]),_c('p',[_vm._v(_vm._s(_vm.items.number))]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$translate(\"orderForm.content.amount.fuel\"))+\" \"),_c('span',[_vm._v(_vm._s(_vm.items.tank))])]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$translate(\"orderForm.content.amount.available\"))+\" \"),_c('span',[_vm._v(_vm._s(_vm.items.available))])])]),_c('div',{staticClass:\"amount__info\"},[_c('img',{attrs:{\"src\":_vm.items.image.path,\"alt\":_vm.items.image.name},on:{\"error\":function (e) { return (e.target.src = 'images/car-stub.png'); }}})])]:_c('i',{staticClass:\"el-icon-loading\",staticStyle:{\"transform\":\"translateX(-50%)\",\"position\":\"absolute\",\"left\":\"50%\"}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"amount-options__wrapper\">\n    <p v-if=\"title\" class=\"amount-options__title\">\n      {{ $translate(\"orderForm.content.orderConfirm\") }}\n    </p>\n    <template v-if=\"!loading\">\n      <div class=\"amount-options__info\">\n        <p>{{ items.model }}</p>\n        <p>{{ items.number }}</p>\n        <p>\n          {{ $translate(\"orderForm.content.amount.fuel\") }}\n          <span>{{ items.tank }}</span>\n        </p>\n        <p>\n          {{ $translate(\"orderForm.content.amount.available\") }}\n          <span>{{ items.available }}</span>\n        </p>\n      </div>\n      <div class=\"amount__info\">\n        <img\n          :src=\"items.image.path\"\n          :alt=\"items.image.name\"\n          @error=\"e => (e.target.src = 'images/car-stub.png')\"\n        />\n      </div>\n    </template>\n    <i\n      v-else\n      class=\"el-icon-loading\"\n      style=\"transform: translateX(-50%);position: absolute;left: 50%\"\n    ></i>\n  </div>\n</template>\n\n<script>\n  import { computed } from \"@vue/composition-api\";\n\n  export default {\n    name: \"AmountListOptions\",\n    props: {\n      orderOptions: {\n        type: Object,\n        default: () => ({}),\n      },\n      title: {\n        type: Boolean,\n        required: false,\n      },\n      loading: {\n        type: Boolean,\n        default: false,\n      },\n    },\n    setup(props) {\n      const items = computed(() => props.orderOptions);\n\n      return { items };\n    },\n  };\n</script>\n\n<style scoped lang=\"scss\">\n  .amount-options {\n    display: flex;\n    justify-content: space-between;\n    height: 100%;\n\n    @include sm {\n      flex-wrap: wrap;\n    }\n\n    &__wrapper {\n      position: relative;\n      justify-content: space-between;\n      flex-wrap: wrap;\n      max-width: 60%;\n      width: 60%;\n      display: flex;\n      padding-top: 64px;\n\n      @include md-and-down {\n        padding-top: 46px;\n        width: 100%;\n        max-width: 100%;\n        flex-wrap: wrap;\n      }\n    }\n\n    &__info {\n      & p {\n        text-align: left;\n        margin: 0 0 8px 0;\n\n        &:first-child {\n          font-size: 18px;\n          color: $black;\n        }\n\n        &:nth-child(2) {\n          font-size: 14px;\n          color: $black;\n          border: 1px solid $gray;\n          border-radius: 3px;\n          padding: 4px;\n          display: flex;\n          max-width: 94px;\n          justify-content: center;\n        }\n\n        &:nth-child(3),\n        &:nth-child(4) {\n          font-weight: bold;\n          font-size: 14px;\n          color: $black;\n\n          & span {\n            display: inline-block;\n            font-weight: 300;\n\n            @include md-and-down {\n              display: block;\n              line-height: 20px;\n            }\n          }\n        }\n      }\n\n      & img {\n        max-width: 100%;\n\n        @include md-and-down {\n          max-width: 90%;\n        }\n      }\n    }\n\n    &__title {\n      height: min-content;\n      position: absolute;\n      top: 0;\n      width: 100%;\n      text-align: left;\n      font-size: 24px;\n      color: $black;\n      margin: 24px 0 0 0;\n\n      @include md-and-down {\n        font-size: 20px;\n        top: -14px;\n      }\n    }\n  }\n\n  .amount__info {\n    & img {\n      max-width: 256px;\n      max-height: 120px;\n\n      @include sm {\n        max-width: 100%;\n        max-height: 330px;\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AmountListOptions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AmountListOptions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AmountListOptions.vue?vue&type=template&id=8cf89302&scoped=true&\"\nimport script from \"./AmountListOptions.vue?vue&type=script&lang=js&\"\nexport * from \"./AmountListOptions.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AmountListOptions.vue?vue&type=style&index=0&id=8cf89302&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8cf89302\",\n  null\n  \n)\n\nexport default component.exports","import { ref } from \"@vue/composition-api\";\n\nconst configItems = ref({\n  orderStatusId: \"607069ad2aed9a0b9b7e5530\",\n  cityId: \"\",\n  pointId: \"\",\n  carId: {},\n  color: \"\",\n  dateFrom: 0,\n  dateTo: 0,\n  rateId: {},\n  price: 0,\n  isFullTank: false,\n  isNeedChildChair: false,\n  isRightWheel: false,\n});\n\nexport function updateConfigFields(fields) {\n  for (const fieldsKey in fields) {\n    if (fields.hasOwnProperty(fieldsKey)) {\n      configItems.value[fieldsKey] = fields[fieldsKey];\n    }\n  }\n}\n\nexport function useOrder() {\n  return {\n    configItems,\n    updateConfigFields,\n  };\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Amount.vue?vue&type=style&index=0&id=76742114&scoped=true&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AmountPopup.vue?vue&type=style&index=0&id=7084b1de&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderAside.vue?vue&type=style&index=0&id=71fbfa41&scoped=true&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AmountListOptions.vue?vue&type=style&index=0&id=8cf89302&scoped=true&lang=scss&\""],"sourceRoot":""}