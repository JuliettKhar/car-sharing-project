{"version":3,"sources":["webpack:///./src/components/order/OrderAside.vue?113d","webpack:///src/components/order/OrderAside.vue","webpack:///./src/components/order/OrderAside.vue?77b3","webpack:///./src/components/order/OrderAside.vue","webpack:///./src/components/order/Model.vue?707b","webpack:///src/components/order/Model.vue","webpack:///./src/components/order/Model.vue?3858","webpack:///./src/components/order/Model.vue","webpack:///./src/components/order/common/RadioGroup.vue?723d","webpack:///src/components/order/common/RadioGroup.vue","webpack:///./src/components/order/common/RadioGroup.vue?0610","webpack:///./src/components/order/common/RadioGroup.vue","webpack:///./src/components/order/common/RadioGroup.vue?06a6","webpack:///./src/components/order/OrderAside.vue?05c9","webpack:///./src/components/order/Model.vue?4c82"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$translate","_l","item","key","getDaysCount","from","to","_e","getHoursCount","price","loading","staticStyle","class","isFinishOrder","attrs","isDisabled","on","getNextStep","getLocaleKey","$route","name","staticRenderFns","component","modelState","carFilter","filterModel","$event","$set","changeModel","isLoading","car","index","isActiveCar","id","priceMin","priceMax","thumbnail","path","e","target","src","orderItems","isDisabledButton","priceRange","updateCurrentOrder","updateFilters","model","value","callback","$$v","expression","changeValue"],"mappings":"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","file":"@/assets/js/Model.f3f52fb7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('aside',{staticClass:\"order-form__aside\"},[_c('p',{staticClass:\"aside__order\"},[_vm._v(_vm._s(_vm.$translate(\"orderForm.aside.order\")))]),_vm._l((_vm.orderItems),function(item,key){return [(item)?_c('div',{key:key,staticClass:\"aside__item\"},[_c('span',[_vm._v(_vm._s(_vm.$translate((\"orderForm.aside.\" + key))))]),_c('span'),(key === 'rent')?_c('span',[(_vm.getDaysCount(item.from, item.to))?[_vm._v(\" \"+_vm._s(_vm.getDaysCount(item.from, item.to))+\" д \")]:_vm._e(),(_vm.getHoursCount(item.from, item.to))?[_vm._v(\" \"+_vm._s(_vm.getHoursCount(item.from, item.to))+\" ч \")]:_vm._e()],2):_c('span',[_vm._v(_vm._s(item))])]):_vm._e()]}),(_vm.price && !_vm.loading)?_c('div',{staticClass:\"aside__amount\"},[_c('span',[_vm._v(_vm._s(_vm.$translate(\"orderForm.aside.price\")))]),_c('span',[_vm._v(_vm._s(_vm.price)+\" ₽\")])]):(_vm.loading)?_c('i',{staticClass:\"el-icon-loading\",staticStyle:{\"margin\":\"10px auto\"}}):_vm._e(),_c('el-button',{class:[_vm.isFinishOrder ? 'aside__amount-finish-btn' : ''],attrs:{\"type\":\"success\",\"disabled\":_vm.isDisabled},on:{\"click\":_vm.getNextStep}},[_vm._v(\" \"+_vm._s(_vm.$translate((\"orderForm.aside.\" + (_vm.getLocaleKey(_vm.$route.name)))))+\" \")])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <aside class=\"order-form__aside\">\n    <p class=\"aside__order\">{{ $translate(\"orderForm.aside.order\") }}</p>\n    <template v-for=\"(item, key) of orderItems\">\n      <div v-if=\"item\" :key=\"key\" class=\"aside__item\">\n        <span>{{ $translate(`orderForm.aside.${key}`) }}</span>\n        <span></span>\n        <span v-if=\"key === 'rent'\">\n          <template v-if=\"getDaysCount(item.from, item.to)\">\n            {{ getDaysCount(item.from, item.to) }} д\n          </template>\n          <template v-if=\"getHoursCount(item.from, item.to)\">\n            {{ getHoursCount(item.from, item.to) }} ч\n          </template>\n        </span>\n        <span v-else>{{ item }}</span>\n      </div>\n    </template>\n    <div v-if=\"price && !loading\" class=\"aside__amount\">\n      <span>{{ $translate(\"orderForm.aside.price\") }}</span>\n      <span>{{ price }} ₽</span>\n    </div>\n    <i\n      v-else-if=\"loading\"\n      class=\"el-icon-loading\"\n      style=\"margin: 10px auto\"\n    ></i>\n    <el-button\n      type=\"success\"\n      :class=\"[isFinishOrder ? 'aside__amount-finish-btn' : '']\"\n      :disabled=\"isDisabled\"\n      @click=\"getNextStep\"\n    >\n      {{ $translate(`orderForm.aside.${getLocaleKey($route.name)}`) }}\n    </el-button>\n  </aside>\n</template>\n\n<script>\n  import { computed } from \"@vue/composition-api\";\n\n  export default {\n    name: \"OrderAside\",\n    props: {\n      orderItems: {\n        type: Object,\n        default: () => ({}),\n      },\n      isDisabled: {\n        type: Boolean,\n        default: true,\n      },\n      price: {\n        type: String | Number,\n        default: null,\n      },\n      loading: {\n        type: Boolean,\n        default: false,\n      },\n    },\n    setup(props, { emit, root }) {\n      const isFinishOrder = computed(() =>\n        root.$route.path.includes(\"confirm-order\"),\n      );\n      const keys = {\n        location: \"chooseModel\",\n        model: \"extra\",\n        extra: \"amountOptions\",\n        amount: \"buy\",\n        confirm: \"cancel\",\n      };\n      const getLocaleKey = key => keys[key.toLowerCase()];\n\n      function getNextStep() {\n        !isFinishOrder.value ? emit(\"next\") : emit(\"cancel\");\n      }\n\n      return {\n        getNextStep,\n        isFinishOrder,\n        getLocaleKey,\n      };\n    },\n    methods: {\n      getDaysCount(from, to) {\n        const difference = new Date(to) - new Date(from);\n        return difference ? Math.floor(+difference / 1000 / 60 / 60 / 24) : 0;\n      },\n      getHoursCount(from, to) {\n        return new Date(to).getHours() - new Date(from).getHours();\n      },\n    },\n  };\n</script>\n\n<style scoped lang=\"scss\">\n  .el-button--success {\n    border-radius: 8px !important;\n  }\n  .order-form {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n\n    &__aside {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-end;\n      padding: 32px 0 0 32px;\n      width: 30%;\n      max-width: 30%;\n      border-left: 1px solid $gray-light;\n\n      @include sm {\n        padding: 32px 0 32px 0;\n        width: 100%;\n        max-width: 100%;\n        border-left: none;\n        align-items: flex-start;\n      }\n    }\n  }\n\n  .aside {\n    &__order {\n      display: inline-block;\n      margin: 0 0 26px 0;\n      font-weight: 500;\n      font-size: 18px;\n      color: $black;\n    }\n\n    &__item {\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      margin-bottom: 20px;\n      width: 100%;\n\n      @include sm {\n        flex-wrap: wrap;\n        flex-direction: column;\n      }\n\n      & span {\n        &:first-child {\n          display: flex;\n          align-items: flex-end;\n          margin-right: 6px;\n          font-size: 14px;\n          color: $black;\n          text-align: left;\n        }\n        &:last-child {\n          font-size: 14px;\n          color: $gray;\n          text-align: right;\n          max-width: 120px;\n\n          @include sm {\n            text-align: left;\n          }\n        }\n        &:nth-child(2) {\n          display: inline-block;\n          border-bottom: 2px dotted $gray-light;\n          width: 74px;\n\n          @include sm {\n            display: none;\n          }\n        }\n      }\n    }\n\n    &__amount {\n      width: 100%;\n      text-align: left;\n      margin-bottom: 32px;\n\n      & span:first-child {\n        margin-right: 4px;\n      }\n\n      &-finish-btn {\n        background: linear-gradient(90deg, $brown 0%, $pink 100%);\n        border-radius: 8px !important;\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderAside.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderAside.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderAside.vue?vue&type=template&id=71fbfa41&scoped=true&\"\nimport script from \"./OrderAside.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderAside.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderAside.vue?vue&type=style&index=0&id=71fbfa41&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"71fbfa41\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"model\"},[_c('div',{staticClass:\"model__wrapper\"},[_c('div',{staticClass:\"model__filters\"},[_c('radio-group',{attrs:{\"model-data\":_vm.modelState.carFilter,\"car-filter-data\":_vm.modelState.filterModel},on:{\"update:modelData\":function($event){return _vm.$set(_vm.modelState, \"carFilter\", $event)},\"update:model-data\":function($event){return _vm.$set(_vm.modelState, \"carFilter\", $event)},\"change\":_vm.changeModel}})],1),_c('div',{staticClass:\"model__cars\"},[(!_vm.modelState.isLoading)?_vm._l((_vm.carImages),function(car,index){return _c('div',{key:index,class:[\n            'model__cars-item',\n            _vm.modelState.isActiveCar === car.id ? 'selected' : '' ],on:{\"click\":function($event){_vm.modelState.isActiveCar = car.id}}},[_c('p',[_vm._v(_vm._s(car.name))]),_c('p',[_vm._v(_vm._s(car.priceMin)+\" - \"+_vm._s(car.priceMax))]),_c('img',{attrs:{\"src\":car.thumbnail.path,\"alt\":car.name},on:{\"error\":function (e) { return (e.target.src = 'images/car-stub.png'); }}})])}):_c('i',{staticClass:\"el-icon-loading\"})],2)]),_c('order-aside',{attrs:{\"order-items\":_vm.orderItems,\"is-disabled\":_vm.isDisabledButton,\"price\":_vm.priceRange,\"loading\":_vm.modelState.isLoading},on:{\"next\":_vm.updateCurrentOrder}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"model\">\n    <div class=\"model__wrapper\">\n      <div class=\"model__filters\">\n        <radio-group\n          :model-data.sync=\"modelState.carFilter\"\n          :car-filter-data=\"modelState.filterModel\"\n          @change=\"changeModel\"\n        />\n      </div>\n      <div class=\"model__cars\">\n        <template v-if=\"!modelState.isLoading\">\n          <div\n            v-for=\"(car, index) in carImages\"\n            :key=\"index\"\n            :class=\"[\n              'model__cars-item',\n              modelState.isActiveCar === car.id ? 'selected' : '',\n            ]\"\n            @click=\"modelState.isActiveCar = car.id\"\n          >\n            <p>{{ car.name }}</p>\n            <p>{{ car.priceMin }} - {{ car.priceMax }}</p>\n            <img\n              :src=\"car.thumbnail.path\"\n              :alt=\"car.name\"\n              @error=\"e => (e.target.src = 'images/car-stub.png')\"\n            />\n          </div>\n        </template>\n        <i v-else class=\"el-icon-loading\"></i>\n      </div>\n    </div>\n    <order-aside\n      :order-items=\"orderItems\"\n      :is-disabled=\"isDisabledButton\"\n      :price=\"priceRange\"\n      :loading=\"modelState.isLoading\"\n      @next=\"updateCurrentOrder\"\n    />\n  </div>\n</template>\n\n<script>\n  import { computed, onBeforeMount, reactive, ref } from \"@vue/composition-api\";\n  import RadioGroup from \"@/components/order/common/RadioGroup\";\n  import OrderAside from \"@/components/order/OrderAside\";\n  import { getCars, getCategories, updateOrder, getOrderById } from \"@/api\";\n\n  export default {\n    name: \"Model\",\n    components: { RadioGroup, OrderAside },\n    setup(props, { root }) {\n      const modelState = reactive({\n        carFilter: \"\",\n        currentCarItem: {},\n        filterModel: [\"Все модели\"],\n        isActiveCar: \"\",\n        isLoading: true,\n      });\n      const images = ref([]);\n      const imagesData = computed(() => images.value);\n      const carImages = ref(imagesData.value);\n      const selectedModelName = computed(() => {\n        const car = images.value.filter(\n          item => item.id === modelState.isActiveCar,\n        )[0];\n        return car?.name || \"\";\n      });\n      const selectedModel = computed(\n        () =>\n          images.value.filter(item => item.id === modelState.isActiveCar)[0] ||\n          {},\n      );\n      const orderItems = ref({\n        city: \"\",\n        model: selectedModelName,\n      });\n      const priceRange = computed(() => {\n        const isPriceExist =\n          selectedModel.value?.priceMin && selectedModel.value?.priceMax;\n        return isPriceExist\n          ? `${selectedModel.value?.priceMin || 0} - ${selectedModel.value\n              ?.priceMax || 0}`\n          : 0;\n      });\n      const orderId = root.$route.query.id;\n      const currentOrder = ref({});\n\n      function changeModel(item) {\n        if (item === \"Все модели\") {\n          carImages.value = images.value;\n        } else {\n          carImages.value = images.value.filter(\n            model => model.categoryId.id === item.id,\n          );\n        }\n      }\n\n      async function getModelCategories() {\n        const { data } = await getCategories();\n        modelState.filterModel.push(...data.data);\n      }\n\n      async function getModelCars() {\n        const { data } = await getCars();\n        images.value = data.data;\n        await changeModel(modelState.currentCarItem);\n      }\n\n      async function getOrderFromPreviousStep() {\n        const { data } = await getOrderById(orderId);\n        const { carId } = data.data;\n\n        currentOrder.value = data.data;\n        modelState.carFilter = carId?.categoryId.id || \"Все модели\";\n        modelState.currentCarItem = carId?.categoryId || \"Все модели\";\n        modelState.isActiveCar = carId?.id || \"\";\n        orderItems.value.city = `${data.data?.cityId.name || \"\"}, ${data.data\n          ?.pointId.address || \"\"}`;\n      }\n\n      onBeforeMount(() =>\n        Promise.all([\n          getOrderFromPreviousStep(),\n          getModelCars(),\n          getModelCategories(),\n        ]).then(() => (modelState.isLoading = false)),\n      );\n\n      return {\n        carImages,\n        modelState,\n        images,\n        changeModel,\n        orderItems,\n        selectedModel,\n        priceRange,\n        orderId,\n        currentOrder,\n      };\n    },\n    computed: {\n      isDisabledButton() {\n        return (\n          Boolean(!this.orderItems.model || !this.orderItems.city) || false\n        );\n      },\n    },\n    methods: {\n      updateCurrentOrder() {\n        const {\n          orderStatusId,\n          cityId,\n          pointId,\n          id,\n          createdAt,\n        } = this.currentOrder;\n        const order = {\n          orderStatusId,\n          cityId,\n          pointId,\n          id,\n          createdAt,\n          carId: this.selectedModel.id,\n          color: \"\",\n          dateFrom: 0,\n          dateTo: 0,\n          rateId: {},\n          price: this.priceRange,\n          isFullTank: false,\n          isNeedChildChair: false,\n          isRightWheel: false,\n        };\n\n        updateOrder(this.orderId, order);\n        this.$router.push({ name: \"Extra\", query: { id: this.orderId } });\n      },\n    },\n  };\n</script>\n\n<style scoped lang=\"scss\">\n  .model {\n    display: flex;\n    justify-content: space-between;\n    flex-wrap: nowrap;\n    height: 100vh;\n\n    @include sm {\n      flex-wrap: wrap;\n    }\n\n    &__filters {\n      display: flex;\n    }\n\n    &__wrapper {\n      padding-top: 32px;\n      width: 100%;\n    }\n\n    &__cars {\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: space-evenly;\n      align-items: center;\n      margin: 48px 0 0 0;\n      border: 1px solid $gray-light;\n      max-width: 80%;\n      box-sizing: border-box;\n      min-height: 40px;\n\n      @include lg-and-down {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        margin: 30px 0 0 0;\n        border: none;\n      }\n\n      @include md-and-down {\n        grid-template-columns: 1fr;\n      }\n\n      @include sm {\n        max-width: 100%;\n        grid-template-columns: 1fr;\n      }\n\n      &-item {\n        box-sizing: border-box;\n        padding: 16px;\n        cursor: pointer;\n        max-width: 368px;\n        max-height: 224px;\n        width: 368px;\n        height: 224px;\n        flex-direction: column;\n        align-items: flex-start;\n\n        @include lg-and-down {\n          width: 260px;\n        }\n\n        &:nth-child(odd) {\n          border: none;\n          border-right: 1px solid $gray-light;\n          border-bottom: 1px solid $gray-light;\n\n          @include lg-and-down {\n            width: 100%;\n            border: 1px solid #eee;\n          }\n        }\n\n        &:nth-child(even) {\n          border: none;\n          border-bottom: 1px solid $gray-light;\n\n          @include lg-and-down {\n            width: 100%;\n            border: 1px solid #eee;\n          }\n        }\n\n        &:hover {\n          border: 1px solid $gray;\n          transition: border 0.2s ease;\n        }\n\n        &.selected {\n          border: 1px solid $green;\n\n          @include sm {\n            height: 100%;\n            max-height: 100%;\n          }\n        }\n\n        p {\n          margin: 0 0 4px 0;\n          text-align: left;\n\n          &:first-child {\n            font-size: 18px;\n            color: $black;\n          }\n\n          &:nth-child(2) {\n            font-size: 14px;\n            color: $gray;\n\n            @include sm {\n              font-size: 12px;\n            }\n          }\n        }\n\n        & img {\n          margin: 36px auto;\n          max-width: 256px;\n          max-height: 116px;\n\n          @include lg-and-down {\n            margin: 25px auto;\n          }\n        }\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Model.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Model.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Model.vue?vue&type=template&id=cd2f4aae&scoped=true&\"\nimport script from \"./Model.vue?vue&type=script&lang=js&\"\nexport * from \"./Model.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Model.vue?vue&type=style&index=0&id=cd2f4aae&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cd2f4aae\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-radio-group',{on:{\"change\":_vm.updateFilters},model:{value:(_vm.model),callback:function ($$v) {_vm.model=$$v},expression:\"model\"}},[_vm._l((_vm.carFilterData),function(model,index){return [(model.name)?_c('el-radio',{key:index,attrs:{\"label\":model.id},on:{\"change\":function($event){return _vm.changeValue(model)}}},[_vm._v(\" \"+_vm._s(model.name)+\" \")]):_c('el-radio',{key:index,attrs:{\"label\":model},on:{\"change\":function($event){return _vm.changeValue(model)}}},[_vm._v(\" \"+_vm._s(model)+\" \")])]})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-radio-group v-model=\"model\" @change=\"updateFilters\">\n    <template v-for=\"(model, index) in carFilterData\">\n      <el-radio\n        v-if=\"model.name\"\n        :key=\"index\"\n        :label=\"model.id\"\n        @change=\"changeValue(model)\"\n      >\n        {{ model.name }}\n      </el-radio>\n      <el-radio v-else :key=\"index\" :label=\"model\" @change=\"changeValue(model)\">\n        {{ model }}\n      </el-radio>\n    </template>\n  </el-radio-group>\n</template>\n\n<script>\n  import { ref, toRefs, watch } from \"@vue/composition-api\";\n\n  export default {\n    name: \"RadioGroup\",\n    props: {\n      carFilterData: {\n        type: Array,\n        required: true,\n      },\n      modelData: {\n        type: String | Object,\n        required: true,\n      },\n    },\n    setup(props) {\n      const { modelData } = toRefs(props);\n      const model = ref(\"\");\n\n      watch(modelData, val => (model.value = val));\n\n      return { model };\n    },\n    methods: {\n      changeValue(val) {\n        this.$emit(\"change\", val);\n      },\n      updateFilters(val) {\n        this.$emit(\"update:modelData\", val);\n      },\n    },\n  };\n</script>\n\n<style scoped lang=\"scss\">\n  .el-radio-group {\n    display: flex;\n    flex-direction: row;\n\n    @include md-and-down {\n      flex-direction: column;\n      align-items: flex-start;\n    }\n  }\n\n  ::v-deep .el-radio__input {\n    line-height: 24px;\n  }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RadioGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RadioGroup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RadioGroup.vue?vue&type=template&id=aee6fec4&scoped=true&\"\nimport script from \"./RadioGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./RadioGroup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RadioGroup.vue?vue&type=style&index=0&id=aee6fec4&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"aee6fec4\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RadioGroup.vue?vue&type=style&index=0&id=aee6fec4&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderAside.vue?vue&type=style&index=0&id=71fbfa41&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Model.vue?vue&type=style&index=0&id=cd2f4aae&scoped=true&lang=scss&\""],"sourceRoot":""}